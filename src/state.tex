\section{State of a channel}
  Consider a channel between \alice{} and \bob. Both parties hold some data
  locally that correspond to ownership of some funds in the channel. Here we
  define a concise way of representing this data.

  What \alice{} has to hold, specific for this channel:
  \begin{itemize}
    \item keys:
    \begin{itemize}
      \item local funding secret key
      \item remote funding public key
      \item local \{payment, htlc, delayed\_payment,
      revocation\}\_basepoint\_secret
      \item remote \{payment, htlc, delayed\_payment, revocation\}\_basepoint
      \item seed (for local per\_commitment\_secrets)
      \item $\text{remote per\_commitment\_secret}_{1, \dots, m-1}$
      \item $\text{remote per\_commitment\_point}_{m, m+1}$
    \end{itemize}
    \item \alice's coins
    \item \bob's coins
    \item every HTLC that is included in the latest irrevocably committed (local
    or remote) commitment:
      \begin{itemize}
        \item direction ($\alice \rightarrow \bob$ or $\bob \rightarrow \alice$)
        \item hash
        \item preimage (or $\bot$ if still unresolved)
        \item coins
        \item Is it included in local $\mathrm{commitment}_n$?
        \item HTLC number
      \end{itemize}
    \item signatures:
    \begin{itemize}
      \item signature of local $\mathrm{commitment}_n$ with secret key
      corresponding to remote funding public key
      \item for every HTLC included in local $\mathrm{commitment}_n$, one
      signature of HTLC-Timeout if outgoing, HTLC-Success if incoming with
      secret key corresponding to remote $\mathrm{htlc\_pubkey}_n$ (=
      htlc\_basepoint + $\mathcal{H}(\text{remote per\_commitment\_point}_n$ $||
      \text{remote htlc\_basepoint}) \cdot G$)
    \end{itemize}
  \end{itemize}
  The rest of the things used in the protocol can be derived by the above.
