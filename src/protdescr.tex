\section{Overview of our Lightning Protocol $\Pi_{\mathrm{LN}}$}
  \TODO{TODO}

  \begin{remark}[Differences between LN and $\Pi_{\mathrm{LN}}$]

    In LN, a custom construction for generating a new secret during each channel
    update is used. It reduces the amount of space needed to maintain a channel
    from $O(n)$ to $O(\log n)$ in the number of updates. As far as we know, its
    security has not been formally analyzed. In the current paper we use instead
    a PRF.

    Furthermore, in order to generate any number of keypairs by combining a
    single ``basepoint'' with different ``labels'', LN uses a custom
    construction that takes advantage of elliptic curve homomorphic properties.
    The properties provided by this construction are also provided by previously
    studied Identity Based Signature schemes~\cite{ibsshamir,ibspaterson}, so we
    instead use the abstract IBS primitive in this work. \orfeas{mention that we
    suspect their construction realizes IBS, but we don't prove it?}

    Additionally, we have chosen to simplify the protocol in a number of ways in
    order to keep the analysis tractable. In particular LN defines several
    additional messages that signal various types of errors in transmission. It
    also specifies exactly how message retransmission should happen upon
    reconnection, specifically for the case of connection failure while updating
    a channel. This allows for a more robust system by excluding many cases of
    accidental channel closures. What is more, an LN user can change their
    ``delay'' and ``relayDelay'' parameters even after registration, which is
    not the case in $\Pi_{\mathrm{LN}}$.

    In order to incentivize users to act as intermediaries or ``vigilantes'' on
    behalf of others, LN provides for fees for these two roles. Furthermore, in
    order to reduce transaction size, it specifies exact rules for prunning
    outputs of too low value (known as ``dust outputs''). In the current
    analysis we do not consider these features.

    Last but not least, LN makes it possible for parties to cooperatively close
    a channel, thus avoiding the need to wait for the expiry of timelocks and
    reducing the size of the transactions that are added to the blockchain. As
    we mentioned earlier, we do not analyze this part of the specification.
  \end{remark}
