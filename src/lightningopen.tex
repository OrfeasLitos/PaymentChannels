\begin{figure}[H]
  \begin{center}
    \fbox{\pseudocode{%
        \mathcal{E} \< \textbf{Alice} \< \textbf{Bob} \< \mathcal{E} \\
        [][\hline]
        \sendmessageright{top=(\texttt{open})} \< \< \<\\
        \< \sendmessageright{top=(\texttt{openChannel})} \< \< \\
        \< \< \sendmessageright{top=(\texttt{recvOpen})} \< \\
        \< \< \sendmessageleft{top=(\texttt{acceptChannel})} \< \\
        \< \sendmessageleft{top=(\texttt{acceptChannel})} \< \< \\
        \< \sendmessageright{top=(\texttt{fundingCreated})} \< \< \\
        \< \sendmessageleft{top=(\texttt{fundingSigned})} \< \< \\
        \sendmessageleft{top=(\texttt{broadcast}), bottom=(TODO: maybe not to
        $\mathcal{E}$)} \< \< \< \\
        \sendmessageright{top=(\texttt{fundingLocked}), bottom=(TODO: maybe not
        from $\mathcal{E}$)} \< \<
        \sendmessageleft{top=(\texttt{fundingLocked}), bottom=(TODO: maybe not
        from $\mathcal{E}$)} \< \\
        \< \sendmessageright{top=(\texttt{fundingLocked})} \< \< \\
        \< \sendmessageleft{top=(\texttt{fundingLocked})} \< \< \\
        \sendmessageleft{top=(\texttt{opened})} \< \<
        \sendmessageright{top=(\texttt{accepted})} \<
    }}
  \end{center}
  \label{lightning:fig:open}
  \caption{Protocol for opening a Lightning channel}
\end{figure}
