\begin{figure}[H]
  \begin{center}
    \fbox{\pseudocode{%
        \mathcal{F}_{\mathrm{Ledger}} \< \textbf{Alice} \< \textbf{Bob} \<
        \mathcal{E} \\ [][\hline]
        \< \< \sendmessageleft{top=ignore\_me} \< \\
        \< \sendmessageleftx[229pt]{8}{\texttt{open}} \< \\
        \< \sendmessageright{top=\texttt{openChannel}} \< \< \\
        \< \sendmessageleft{top=\texttt{acceptChannel}} \< \< \\
        \< \sendmessageright{top=\texttt{fundingCreated}} \< \< \\
        \< \sendmessageleft{top=\texttt{fundingSigned}} \< \< \\
        \sendmessageleft{top=\texttt{submit}} \< \< \< \\
        \< \sendmessageleftx[229pt]{8}{\texttt{checkForNew}} \< \\
        \sendmessageleft{top=\texttt{read}} \< \< \< \\
        \sendmessageright{top=\texttt{state}} \< \< \< \\
        \< \sendmessageright{top=\texttt{fundingLocked}} \< \< \\
        \< \sendmessageleftx[229pt]{3}{\texttt{read} \text{ TODO: put left}} \< \\
        \< \sendmessagerightx[229pt]{3}{\texttt{state} \text{ TODO: put left}} \< \\
        \< \sendmessageleft{top=\texttt{fundingAck}} \< \< \\
        \< \sendmessagerightx[229pt]{8}{\texttt{opened}} \<
    }}
  \end{center}
  \label{lightning:fig:open}
  \caption{Protocol for opening a Lightning channel}
\end{figure}
